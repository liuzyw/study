{
  "title": "Linxu",
  "cells": [
    {
      "type": "markdown",
      "data": "### <font color=#00BFF>1 tar</font>\n创建一个新的tar文件\n`tar cvf archive_name.tar dirname/`\n解压tar文件\n`tar xvf archive_name.tar`\n查看tar文件\n`tar tvf archive_name.tar`\n更多示例：The Ultimate Tar Command Tutorial with 10 Practical Examples\n\n2. grep\n\n在文件中查找字符串(不区分大小写)\n\n$ grep -i \"the\" demo_file\n输出成功匹配的行，以及该行之后的三行\n\n$ grep -A 3 -i \"example\" demo_text\n在一个文件夹中递归查询包含指定字符串的文件\n\n$ grep -r \"ramesh\" *\n更多示例：Get a Grip on the Grep! – 15 Practical Grep Command Examples\n\n3. find\n\n查找指定文件名的文件(不区分大小写)\n\n$ find -iname \"MyProgram.c\"\n对找到的文件执行某个命令\n\n$ find -iname \"MyProgram.c\" -exec md5sum {} \\;\n查找home目录下的所有空文件\n\n$ find ~ -empty\n更多示例：Mommy, I found it! — 15 Practical Linux Find Command Examples\n\n4. ssh\n\n登录到远程主机\n\n$ ssh -l jsmith remotehost.example.com\n调试ssh客户端\n\n$ ssh -v -l jsmith remotehost.example.com\n显示ssh客户端版本\n\n$ ssh -V\n更多示例：5 Basic Linux SSH Client Commands\n\n5. sed\n\n当你将Dos系统中的文件复制到Unix/Linux后，这个文件每行都会以\\r\\n结尾，sed可以轻易将其转换为Unix格式的文件，使用\\n结尾的文件\n\nsed 's/.$//' filename\n反转文件内容并输出\n\n$ sed -n '1!G; h; p' filename\n为非空行添加行号\n\n$ sed '/./=' thegeekstuff.txt | sed 'N; s/\\n/ /'\n更多示例：Advanced Sed Substitution Examples\n6. awk\n删除重复行\n\nawk '!($0 in array) { array[$0]; print}' temp\n打印/etc/passwd中所有包含同样的uid和gid的行\n\nawk -F ':' '$3=$4' /etc/passwd\n打印文件中的指定部分的字段\n\nawk '{print $2,$5;}' employee.txt\n更多示例：8 Powerful Awk Built-in Variables – FS, OFS, RS, ORS, NR, NF, FILENAME, FNR\n7. vim\n\n打开文件并跳到第10行\n\n$ vim +10 filename.txt\n打开文件跳到第一个匹配的行\n\n$ vim +/search-term filename.txt\n以只读模式打开文件\n\n$ vim -R /etc/passwd\n更多示例：How To Record and Play in Vim Editor\n\n8. diff\n\n比较的时候忽略空白符\n\n$ diff -w name_list.txt name_list_new.txt\n9. sort\n\n以升序对文件内容排序\n\n$ sort names.txt\n以降序对文件内容排序\n\n$ sort -r names.txt\n以第三个字段对/etc/passwd的内容排序\n\n$ sort -t: -k 3n /etc/passwd | more\n10. export\n\n输出跟字符串oracle匹配的环境变量\n\n$ export | grep ORCALE\ndeclare -x ORACLE_BASE=\"/u01/app/oracle\"\ndeclare -x ORACLE_HOME=\"/u01/app/oracle/product/10.2.0\"\ndeclare -x ORACLE_SID=\"med\"\ndeclare -x ORACLE_TERM=\"xterm\"\n设置全局环境变量\n\n$ export ORACLE_HOME=/u01/app/oracle/product/10.2.0\n11. xargs\n\n将所有图片文件拷贝到外部驱动器\n\n$ ls *.jpg | xargs -n1 -i cp {} /external-hard-drive/directory\n将系统中所有jpd文件压缩打包\n\n$ find / -name *.jpg -type f -print | xargs tar -cvzf images.tar.gz\n下载文件中列出的所有url对应的页面\n\n$ cat url-list.txt | xargs wget –c\n12. ls\n\n以易读的方式显示文件大小(显示为MB,GB...)\n\n$ ls -lh\n-rw-r----- 1 ramesh team-dev 8.9M Jun 12 15:27 arch-linux.txt.gz\n以最后修改时间升序列出文件\n\n$ ls -ltr\n在文件名后面显示文件类型\n\n$ ls -F\n更多示例：Unix LS Command: 15 Practical Examples\n\n13. pwd\n\n输出当前工作目录\n\n14. cd\n\ncd -可以在最近工作的两个目录间切换\n使用shopt -s cdspell可以设置自动对cd命令进行拼写检查\n\n更多示例：6 Awesome Linux cd command Hacks\n\n15. gzip\n\n创建一个*.gz的压缩文件\n\n$ gzip test.txt\n解压*.gz文件\n\n$ gzip -d test.txt.gz\n显示压缩的比率\n\n$ gzip -l *.gz\n     compressed        uncompressed  ratio uncompressed_name\n          23709               97975  75.8% asp-patch-rpms.txt\n16. bzip2\n\n创建*.bz2压缩文件\n\n$ bzip2 test.txt\n解压*.bz2文件\n\nbzip2 -d test.txt.bz2\n更多示例：BZ is Eazy! bzip2, bzgrep, bzcmp, bzdiff, bzcat, bzless, bzmore examples\n\n17. uzip\n\n解压*.zip文件\n\n$ unzip test.zip\n查看*.zip文件的内容\n\n$ unzip -l jasper.zip\nArchive:  jasper.zip\nLength     Date   Time    Name\n--------    ----   ----    ----\n40995  11-30-98 23:50   META-INF/MANIFEST.MF\n32169  08-25-98 21:07   classes_\n15964  08-25-98 21:07   classes_names\n10542  08-25-98 21:07   classes_ncomp\n18. shutdown\n\n关闭系统并立即关机\n\n$ shutdown -h now\n10分钟后关机\n\n$ shutdown -h +10\n重启\n\n$ shutdown -r now\n重启期间强制进行系统检查\n\n$ shutdown -Fr now\n19. ftp\n\nftp命令和sftp命令的用法基本相似连接ftp服务器并下载多个文件\n\n$ ftp IP/hostname\nftp> mget *.html\n显示远程主机上文件列表\n\nftp> mls *.html -\n/ftptest/features.html\n/ftptest/index.html\n/ftptest/othertools.html\n/ftptest/samplereport.html\n/ftptest/usage.html\n更多示例：FTP and SFTP Beginners Guide with 10 Examples\n\n20. crontab\n\n查看某个用户的crontab入口\n\n$ crontab -u john -l\n设置一个每十分钟执行一次的计划任务\n\n*/10 * * * * /home/ramesh/check-disk-space\n更多示例：Linux Crontab: 15 Awesome Cron Job Examples\n\n21. service\n\nservice命令用于运行System V init脚本，这些脚本一般位于/etc/init.d文件下，这个命令可以直接运行这个文件夹里面的脚本，而不用加上路径\n\n查看服务状态\n\n$ service ssh status\n查看所有服务状态\n\n$ service --status-all\n重启服务\n\n$ service ssh restart\n22. ps\n\nps命令用于显示正在运行中的进程的信息，ps命令有很多选项，这里只列出了几个\n\n查看当前正在运行的所有进程\n\n$ ps -ef | more\n以树状结构显示当前正在运行的进程，H选项表示显示进程的层次结构\n\n$ ps -efH | more\n23. free\n\n这个命令用于显示系统当前内存的使用情况，包括已用内存、可用内存和交换内存的情况\n\n默认情况下free会以字节为单位输出内存的使用量\n\n$ free\n             total       used       free     shared    buffers     cached\nMem:       3566408    1580220    1986188          0     203988     902960\n-/+ buffers/cache:     473272    3093136\nSwap:      4000176          0    4000176\n如果你想以其他单位输出内存的使用量，需要加一个选项，-g为GB，-m为MB，-k为KB，-b为字节\n\n$ free -g\n             total       used       free     shared    buffers     cached\nMem:             3          1          1          0          0          0\n-/+ buffers/cache:          0          2\nSwap:            3          0          3\n如果你想查看所有内存的汇总，请使用-t选项，使用这个选项会在输出中加一个汇总行\n\nramesh@ramesh-laptop:~$ free -t\n             total       used       free     shared    buffers     cached\nMem:       3566408    1592148    1974260          0     204260     912556\n-/+ buffers/cache:     475332    3091076\nSwap:      4000176          0    4000176\nTotal:     7566584    1592148    5974436\n24. top\n\ntop命令会显示当前系统中占用资源最多的一些进程（默认以CPU占用率排序）如果你想改变排序方式，可以在结果列表中点击O（大写字母O）会显示所有可用于排序的列，这个时候你就可以选择你想排序的列\n\nCurrent Sort Field:  P  for window 1:Def\nSelect sort field via field letter, type any other key to return\n\n  a: PID        = Process Id              v: nDRT       = Dirty Pages count\n  d: UID        = User Id                 y: WCHAN      = Sleeping in Function\n  e: USER       = User Name               z: Flags      = Task Flags\n  ........\n如果只想显示某个特定用户的进程，可以使用-u选项\n\n$ top -u oracle\n更多示例：Can You Top This? 15 Practical Linux Top Command Examples\n\n25. df\n\n显示文件系统的磁盘使用情况，默认情况下df -k 将以字节为单位输出磁盘的使用量\n\n$ df -k\nFilesystem           1K-blocks      Used Available Use% Mounted on\n/dev/sda1             29530400   3233104  24797232  12% /\n/dev/sda2            120367992  50171596  64082060  44% /home\n使用-h选项可以以更符合阅读习惯的方式显示磁盘使用量\n\n$ df -h\nFilesystem                  Size   Used  Avail Capacity  iused      ifree %iused  Mounted on\n/dev/disk0s2               232Gi   84Gi  148Gi    37% 21998562   38864868   36%   /\ndevfs                      187Ki  187Ki    0Bi   100%      648          0  100%   /dev\nmap -hosts                   0Bi    0Bi    0Bi   100%        0          0  100%   /net\nmap auto_home                0Bi    0Bi    0Bi   100%        0          0  100%   /home\n/dev/disk0s4               466Gi   45Gi  421Gi    10%   112774  440997174    0%   /Volumes/BOOTCAMP\n//app@izenesoft.cn/public  2.7Ti  1.3Ti  1.4Ti    48%        0 18446744073709551615    0%   /Volumes/public\n使用-T选项显示文件系统类型\n\n$ df -T\nFilesystem    Type   1K-blocks      Used Available Use% Mounted on\n/dev/sda1     ext4    29530400   3233120  24797216  12% /\n/dev/sda2     ext4   120367992  50171596  64082060  44% /home\n26. kill\n\nkill用于终止一个进程。一般我们会先用ps -ef查找某个进程得到它的进程号，然后再使用kill -9 进程号终止该进程。你还可以使用killall、pkill、xkill来终止进程\n\n$ ps -ef | grep vim\nramesh    7243  7222  9 22:43 pts/2    00:00:00 vim\n\n$ kill -9 7243\n更多示例：4 Ways to Kill a Process – kill, killall, pkill, xkill\n\n27. rm\n\n删除文件前先确认\n\n$ rm -i filename.txt\n在文件名中使用shell的元字符会非常有用。删除文件前先打印文件名并进行确认\n\n$ rm -i file*\n递归删除文件夹下所有文件，并删除该文件夹\n\n$ rm -r example\n28. cp\n\n拷贝文件1到文件2，并保持文件的权限、属主和时间戳\n\n$ cp -p file1 file2\n拷贝file1到file2，如果file2存在会提示是否覆盖\n\n$ cp -i file1 file2\n29. mv\n\n将文件名file1重命名为file2，如果file2存在则提示是否覆盖\n\n$ mv -i file1 file2\n注意如果使用-f选项则不会进行提示\n\n-v会输出重命名的过程，当文件名中包含通配符时，这个选项会非常方便\n\n$ mv -v file1 file2\n30. cat\n\n你可以一次查看多个文件的内容，下面的命令会先打印file1的内容，然后打印file2的内容\n\n$ cat file1 file2\n-n命令可以在每行的前面加上行号\n\n$ cat -n /etc/logrotate.conf\n/var/log/btmp {\nmissingok\n3\t    monthly\n4\t    create 0660 root utmp\n5\t    rotate 1\n6 }\n31. mount\n\n如果要挂载一个文件系统，需要先创建一个目录，然后将这个文件系统挂载到这个目录上\n\n# mkdir /u01\n\n# mount /dev/sdb1 /u01\n也可以把它添加到fstab中进行自动挂载，这样任何时候系统重启的时候，文件系统都会被加载\n\n/dev/sdb1 /u01 ext2 defaults 0 2\n32. chmod\n\nchmod用于改变文件和目录的权限\n\n给指定文件的属主和属组所有权限(包括读、写、执行)\n\n$ chmod ug+rwx file.txt\n删除指定文件的属组的所有权限\n\n$ chmod g-rwx file.txt\n修改目录的权限，以及递归修改目录下面所有文件和子目录的权限\n\n$ chmod -R ug+rwx file.txt\n更多示例：7 Chmod Command Examples for Beginners\n\n33. chown\n\nchown用于改变文件属主和属组\n\n同时将某个文件的属主改为oracle，属组改为db\n\n$ chown oracle:dba dbora.sh\n使用-R选项对目录和目录下的文件进行递归修改\n\n$ chown -R oracle:dba /home/oracle\n34. passwd\n\npasswd用于在命令行修改密码，使用这个命令会要求你先输入旧密码，然后输入新密码\n\n$ passwd\n超级用户可以用这个命令修改其他用户的密码，这个时候不需要输入用户的密码\n\n# passwd USERNAME\npasswd还可以删除某个用户的密码，这个命令只有root用户才能操作，删除密码后，这个用户不需要输入密码就可以登录到系统\n\n# passwd -d USERNAME\n35. mkdir\n\n在home目录下创建一个名为temp的目录\n\n$ mkdir ~/temp\n使用-p选项可以创建一个路径上所有不存在的目录\n\n$ mkdir -p dir1/dir2/dir3/dir4/\n36. ifconfig\n\nifconfig用于查看和配置Linux系统的网络接口\n\n查看所有网络接口及其状态\n\n$ ifconfig -a\n使用up和down命令启动或停止某个接口\n\n$ ifconfig eth0 up\n\n$ ifconfig eth0 down\n更多示例：Ifconfig: 7 Examples To Configure Network Interface\n\n37. uname\n\nuname可以显示一些重要的系统信息，例如内核名称、主机名、内核版本号、处理器类型之类的信息\n\n$ uname -a\nLinux john-laptop 2.6.32-24-generic #41-Ubuntu SMP Thu Aug 19 01:12:52 UTC 2010 i686 GNU/Linux\n38. whereis\n\n当你不知道某个命令的位置时可以使用whereis命令，下面使用whereis查找ls的位置\n\n$ whereis ls\nls: /bin/ls /usr/share/man/man1/ls.1.gz /usr/share/man/man1p/ls.1p.gz\n当你想查找某个可执行程序的位置，但这个程序又不在whereis的默认目录下，你可以使用-B选项，并指定目录作为这个选项的参数。下面的命令在/tmp目录下查找lsmk命令\n\n$ whereis -u -B /tmp -f lsmk\nlsmk: /tmp/lsmk\n39. whatis\n\nwathis显示某个命令的描述信息\n\n$ whatis ls\nls\t\t(1)  - list directory contents\n\n$ whatis ifconfig\nifconfig (8)         - configure a network interface\n40. locate\n\nlocate命名可以显示某个指定文件（或一组文件）的路径，它会使用由updatedb创建的数据库\n\n下面的命令会显示系统中所有包含crontab字符串的文件\n\n$ locate crontab\n/etc/anacrontab\n/etc/crontab\n/usr/bin/crontab\n/usr/share/doc/cron/examples/crontab2english.pl.gz\n/usr/share/man/man1/crontab.1.gz\n/usr/share/man/man5/anacrontab.5.gz\n/usr/share/man/man5/crontab.5.gz\n/usr/share/vim/vim72/syntax/crontab.vim\n41. man\n\n显示某个命令的man页面\n\n$ man crontab\n有些命令可能会有多个man页面，每个man页面对应一种命令类型\n\n$ man SECTION-NUMBER commandname\nman页面一般可以分为8种命令类型\n\n用户命令\n系统调用\nc库函数\n设备与网络接口\n文件格式\n游戏与屏保\n环境、表、宏\n系统管理员命令和后台运行命令\n例如，我们执行whatis crontab，你可以看到crontab有两个命令类型1和5，所以我们可以通过下面的命令查看命令类型5的man页面\n\n$ whatis crontab\ncrontab (1)          - maintain crontab files for individual users (V3)\ncrontab (5)          - tables for driving cron\n\n$ man 5 crontab\n42. tail\n\ntail命令默认显示文件最后的10行文本\n\n$ tail filename.txt\n你可以使用-n选项指定要显示的行数\n\n$ tail -n N filename.txt\n你也可以使用-f选项进行实时查看，这个命令执行后会等待，如果有新行添加到文件尾部，它会继续输出新的行，在查看日志时这个选项会非常有用。你可以通过CTRL-C终止命令的执行\n\n$ tail -f log-file\n更多示例：3 Methods To View tail -f output of Multiple Log Files in One Terminal\n\n43. less\n\n这个命名可以在不加载整个文件的前提下显示文件内容，在查看大型日志文件的时候这个命令会非常有用\n\n$ less huge-log-file.log\n当你用less命令打开某个文件时，下面两个按键会给你带来很多帮助，他们用于向前和向后滚屏\n\nCTRL+F – forward one window\nCTRL+B – backward one window\n更多示例：Unix Less Command: 10 Tips for Effective Navigation\n\n44. su\n\nsu命令用于切换用户账号，超级用户使用这个命令可以切换到任何其他用户而不用输入密码\n\n$ su - USERNAME\n用另外一个用户名执行一个命令下面的示例中用户john使用raj用户名执行ls命令，执行完后返回john的账号\n\n[john@dev-server]$ su - raj -c 'ls'\n\n[john@dev-server]$\n用指定用户登录，并且使用指定的shell程序，而不用默认的\n\n$ su -s 'SHELLNAME' USERNAME\n45. mysql\n\nmysql可能是Linux上使用最广泛的数据库，即使你没有在你的服务器上安装mysql，你也可以使用mysql客户端连接到远程的mysql服务器\n\n连接一个远程数据库，需要输入密码\n\n$ mysql -u root -p -h 192.168.1.2\n连接本地数据库\n\n$ mysql -u root -p\n你也可以在命令行中输入数据库密码，只需要在-p后面加上密码作为参数，可以直接写在p后面而不用加空格\n\n46. yum\n\n使用yum安装apache\n\n$ `yum install httpd`\n更新apache\n\n$ yum update httpd\n卸载/删除apache\n\n$ yum remove httpd\n47. rpm\n\n使用rpm安装apache\n\n# rpm -ivh httpd-2.2.3-22.0.1.el5.i386.rpm\n更新apache\n\n# rpm -uvh httpd-2.2.3-22.0.1.el5.i386.rpm\n卸载/删除apache\n\n# rpm -ev httpd\n更多示例：RPM Command: 15 Examples to Install, Uninstall, Upgrade, Query RPM Packages\n\n48. ping\n\nping一个远程主机，只发5个数据包\n\n$ ping -c 5 gmail.com\n更多示例：Ping Tutorial: 15 Effective Ping Command Examples\n\n49. date\n\n设置系统日期\n\n# date -s \"01/31/2010 23:59:53\"\n当你修改了系统时间，你需要同步硬件时间和系统时间\n\n# hwclock –systohc\n\n# hwclock --systohc –utc\n50. wget\n\n使用wget从网上下载软件、音乐、视频\n\n$ wget http://prdownloads.sourceforge.net/sourceforge/nagios/nagios-3.2.1.tar.gz\n下载文件并以指定的文件名保存文件\n\n$ wget -O taglist.zip http://www.vim.org/scripts/download_script.php?src_id=7701"
    }
  ]
}